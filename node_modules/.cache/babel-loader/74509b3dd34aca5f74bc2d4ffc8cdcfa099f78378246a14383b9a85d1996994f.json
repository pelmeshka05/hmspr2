{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/senia/Documents/prog2024/React/frontEnd/homeWork/homeWork-sprint2/hws2-master/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _toConsumableArray from\"/Users/senia/Documents/prog2024/React/frontEnd/homeWork/homeWork-sprint2/hws2-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/senia/Documents/prog2024/React/frontEnd/homeWork/homeWork-sprint2/hws2-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useRef,useState}from\"react\";import{message0}from\"../HW1\";import s from\"./MessageSender.module.css\";import styled from\"styled-components\";// компонента, которая тестирует вашу компоненту (не изменять, any не трогать)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MessageSender=function MessageSender(props){var M=props.M;var textareaRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var onChange=function onChange(e){setText(e.currentTarget.value);};useEffect(function(){if(textareaRef!==null&&textareaRef!==void 0&&textareaRef.current){textareaRef.current.style.height=\"0px\";textareaRef.current.style.height=textareaRef.current.scrollHeight+\"px\";}},[text]);var addMessage=function addMessage(){setMessages([].concat(_toConsumableArray(messages),[{id:messages.length?messages.length+1:1,user:message0.user,message:{text:text,time:new Date().toTimeString().slice(0,5)}}]));setTimeout(function(){return setText(\"\");},4);};var onKeyDown=function onKeyDown(e){e.key===\"Enter\"&&e.shiftKey&&addMessage();};return/*#__PURE__*/_jsxs(_Fragment,{children:[messages.map(function(m){return/*#__PURE__*/_jsx(M,{message:m},\"message\"+m.id);}),/*#__PURE__*/_jsxs(Wrapper,{id:\"hw1-send-message-form\",className:s.sendForm,children:[/*#__PURE__*/_jsx(Input,{id:\"hw1-textarea\",title:\"Shift+Enter for send\",placeholder:\"Type a message\",value:text,onChange:onChange,onKeyDown:onKeyDown}),/*#__PURE__*/_jsx(Button,{id:\"hw1-button\",className:s.button,onClick:addMessage,children:\"Send\"})]})]});};export default MessageSender;var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\npadding: 10px;\\n\"])));var Input=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nbox-shadow: 0px 1px 2px 0px rgba(29, 33, 38, 0.1),0px 5px 20px 0px rgba(29, 33, 38, 0.03);\\nbackground: rgb(245, 247, 251);\\nborder: none;\\nborder-radius: 10px;\\nmax-width: 850px;\\nwidth: 100%;\\nheight: 50px;\\npadding-left: 20px;\\nmargin-right: 50px;\\n\\n\"])));var Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 120px;\\n  height: 40px;\\n  border: none;\\n  border-radius: 20px;\\n  background: rgb(0, 102, 204);\\n  color: rgb(255, 255, 255);\\n  font-family: Montserrat;\\n  font-size: 16px;\\n  font-weight: 600;\\n  line-height: 20px;\\n  letter-spacing: 0%;\\n\"])));","map":{"version":3,"names":["React","useEffect","useRef","useState","message0","s","styled","MessageSender","props","M","textareaRef","messages","setMessages","text","setText","onChange","e","currentTarget","value","current","style","height","scrollHeight","addMessage","id","length","user","message","time","Date","toTimeString","slice","setTimeout","onKeyDown","key","shiftKey","map","m","sendForm","button","Wrapper","div","Input","input","Button"],"sources":["/Users/senia/Documents/prog2024/React/frontEnd/homeWork/homeWork-sprint2/hws2-master/src/s2-homeworks/hw01/message-sender/MessageSender.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { message0 } from \"../HW1\";\nimport s from \"./MessageSender.module.css\";\nimport styled from \"styled-components\";\n\n// компонента, которая тестирует вашу компоненту (не изменять, any не трогать)\nconst MessageSender = (props: any) => {\n  const M = props.M;\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\n  const [messages, setMessages] = useState<any[]>([]);\n  const [text, setText] = useState<any>(\"\");\n\n  const onChange = (e: any) => {\n    setText(e.currentTarget.value);\n  };\n\n  useEffect(() => {\n    if (textareaRef?.current) {\n      textareaRef.current.style.height = \"0px\";\n      textareaRef.current.style.height =\n        textareaRef.current.scrollHeight + \"px\";\n    }\n  }, [text]);\n\n  const addMessage = () => {\n    setMessages([\n      ...messages,\n      {\n        id: messages.length ? messages.length + 1 : 1,\n        user: message0.user,\n        message: {\n          text,\n          time: new Date().toTimeString().slice(0, 5),\n        },\n      },\n    ]);\n    setTimeout(() => setText(\"\"), 4);\n  };\n\n  const onKeyDown = (e: any) => {\n    e.key === \"Enter\" && e.shiftKey && addMessage();\n  };\n\n  return (\n    <>\n      {messages.map((m) => (\n        <M key={\"message\" + m.id} message={m} />\n      ))}\n\n      <Wrapper id={\"hw1-send-message-form\"} className={s.sendForm}>\n        <Input\n          id={\"hw1-textarea\"}\n          \n          title={\"Shift+Enter for send\"}\n          placeholder={\"Type a message\"}\n          value={text}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n        />\n        <Button id={\"hw1-button\"} className={s.button} onClick={addMessage}>\n          {/*текст кнопки могут изменить студенты*/}\n          Send\n          {/**/}\n        </Button>\n      </Wrapper>\n    </>\n  );\n};\n\nexport default MessageSender;\n\nconst Wrapper = styled.div`\npadding: 10px;\n`;\n\nconst Input = styled.input`\nbox-shadow: 0px 1px 2px 0px rgba(29, 33, 38, 0.1),0px 5px 20px 0px rgba(29, 33, 38, 0.03);\nbackground: rgb(245, 247, 251);\nborder: none;\nborder-radius: 10px;\nmax-width: 850px;\nwidth: 100%;\nheight: 50px;\npadding-left: 20px;\nmargin-right: 50px;\n\n`;\n\nconst Button = styled.button`\n  width: 120px;\n  height: 40px;\n  border: none;\n  border-radius: 20px;\n  background: rgb(0, 102, 204);\n  color: rgb(255, 255, 255);\n  font-family: Montserrat;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 20px;\n  letter-spacing: 0%;\n`;\n"],"mappings":"4kBAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,QAAQ,CACjC,MAAOC,EAAC,KAAM,4BAA4B,CAC1C,MAAOC,OAAM,KAAM,mBAAmB,CAEtC;AAAA,6IACA,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAU,CAAK,CACpC,GAAMC,EAAC,CAAGD,KAAK,CAACC,CAAC,CACjB,GAAMC,YAAW,CAAGR,MAAM,CAA6B,IAAI,CAAC,CAC5D,cAAgCC,QAAQ,CAAQ,EAAE,CAAC,wCAA5CQ,QAAQ,eAAEC,WAAW,eAC5B,eAAwBT,QAAQ,CAAM,EAAE,CAAC,yCAAlCU,IAAI,eAAEC,OAAO,eAEpB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,CAAM,CAAK,CAC3BF,OAAO,CAACE,CAAC,CAACC,aAAa,CAACC,KAAK,CAAC,CAChC,CAAC,CAEDjB,SAAS,CAAC,UAAM,CACd,GAAIS,WAAW,SAAXA,WAAW,WAAXA,WAAW,CAAES,OAAO,CAAE,CACxBT,WAAW,CAACS,OAAO,CAACC,KAAK,CAACC,MAAM,CAAG,KAAK,CACxCX,WAAW,CAACS,OAAO,CAACC,KAAK,CAACC,MAAM,CAC9BX,WAAW,CAACS,OAAO,CAACG,YAAY,CAAG,IAAI,CAC3C,CACF,CAAC,CAAE,CAACT,IAAI,CAAC,CAAC,CAEV,GAAMU,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBX,WAAW,8BACND,QAAQ,GACX,CACEa,EAAE,CAAEb,QAAQ,CAACc,MAAM,CAAGd,QAAQ,CAACc,MAAM,CAAG,CAAC,CAAG,CAAC,CAC7CC,IAAI,CAAEtB,QAAQ,CAACsB,IAAI,CACnBC,OAAO,CAAE,CACPd,IAAI,CAAJA,IAAI,CACJe,IAAI,CAAE,GAAIC,KAAI,EAAE,CAACC,YAAY,EAAE,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAC5C,CACF,CAAC,GACD,CACFC,UAAU,CAAC,iBAAMlB,QAAO,CAAC,EAAE,CAAC,GAAE,CAAC,CAAC,CAClC,CAAC,CAED,GAAMmB,UAAS,CAAG,QAAZA,UAAS,CAAIjB,CAAM,CAAK,CAC5BA,CAAC,CAACkB,GAAG,GAAK,OAAO,EAAIlB,CAAC,CAACmB,QAAQ,EAAIZ,UAAU,EAAE,CACjD,CAAC,CAED,mBACE,2BACGZ,QAAQ,CAACyB,GAAG,CAAC,SAACC,CAAC,qBACd,KAAC,CAAC,EAAwB,OAAO,CAAEA,CAAE,EAA7B,SAAS,CAAGA,CAAC,CAACb,EAAE,CAAgB,EACzC,CAAC,cAEF,MAAC,OAAO,EAAC,EAAE,CAAE,uBAAwB,CAAC,SAAS,CAAEnB,CAAC,CAACiC,QAAS,wBAC1D,KAAC,KAAK,EACJ,EAAE,CAAE,cAAe,CAEnB,KAAK,CAAE,sBAAuB,CAC9B,WAAW,CAAE,gBAAiB,CAC9B,KAAK,CAAEzB,IAAK,CACZ,QAAQ,CAAEE,QAAS,CACnB,SAAS,CAAEkB,SAAU,EACrB,cACF,KAAC,MAAM,EAAC,EAAE,CAAE,YAAa,CAAC,SAAS,CAAE5B,CAAC,CAACkC,MAAO,CAAC,OAAO,CAAEhB,UAAW,kBAI1D,GACD,GACT,CAEP,CAAC,CAED,cAAehB,cAAa,CAE5B,GAAMiC,QAAO,CAAGlC,MAAM,CAACmC,GAAG,mFAEzB,CAED,GAAMC,MAAK,CAAGpC,MAAM,CAACqC,KAAK,mUAWzB,CAED,GAAMC,OAAM,CAAGtC,MAAM,CAACiC,MAAM,iUAY3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}